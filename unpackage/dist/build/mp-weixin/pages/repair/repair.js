(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repair/repair"],{"0562":function(t,o,n){"use strict";n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return e})),n.d(o,"a",(function(){return i}));var i={wybLoading:function(){return n.e("components/wyb-loading/wyb-loading").then(n.bind(null,"faff"))},myToast:function(){return n.e("components/my-toast/my-toast").then(n.bind(null,"c38f"))},myModal:function(){return n.e("components/my-modal/my-modal").then(n.bind(null,"c520"))}},a=function(){var t=this,o=t.$createElement,i=(t._self._c,""===t.uploadImgUrl2?n("013a"):null),a=""!==t.uploadImgUrl2?n("b417"):null;t.$mp.data=Object.assign({},{$root:{m0:i,m1:a}})},e=[]},"2e96":function(t,o,n){"use strict";var i=n("a490"),a=n.n(i);a.a},3009:function(t,o,n){"use strict";n.r(o);var i=n("8267"),a=n.n(i);for(var e in i)"default"!==e&&function(t){n.d(o,t,(function(){return i[t]}))}(e);o["default"]=a.a},8267:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={ip:"http://192.168.65.13:3000/"};o.default=i},"9b21":function(t,o,n){"use strict";n.r(o);var i=n("a34f"),a=n.n(i);for(var e in i)"default"!==e&&function(t){n.d(o,t,(function(){return i[t]}))}(e);o["default"]=a.a},"9ddd":function(t,o,n){"use strict";n.r(o);var i=n("0562"),a=n("9b21");for(var e in a)"default"!==e&&function(t){n.d(o,t,(function(){return a[t]}))}(e);n("2e96");var s,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);o["default"]=u.exports},a34f:function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=a(n("b542"));function a(t){return t&&t.__esModule?t:{default:t}}var e={data:function(){return{toastTitle:"",toastType:"",msgText:"",uploadImgUrl:"",uploadImgUrl2:"",number1:"",number2:"",showPosition:!1,product:{},options:[123,568,789],option:"",remark:"",isGo:!1}},methods:{goRule:function(){},openPosition:function(){1==this.showPosition?this.showPosition=!1:this.showPosition=!0},choosePosition:function(t){this.showPosition=!1,this.option=t},confirmReport:function(){var o=this;if(this.isGo){var n={id:this.product.id,repairsRtr:this.option,remake:this.remark,damageImg:this.uploadImgUrl,vendorCode:this.number1,purContractNumber:this.number2,insideImg:this.uploadImgUrl2};this.$refs.loading.showLoading(),this.myRequest("/miniProgram/api/repairs/add",{data:n}).then((function(n){o.$refs.loading.hideLoading(),0===n.data.status?(o.toastType="ring",o.toastTitle="上报成功",o.$refs.toast.showLoading(),setTimeout((function(){t.navigateBack()}),1500)):10037===n.data.status?(o.toastType="none",o.toastTitle="输入不完整",o.$refs.toast.showLoading()):(o.toastType="error",o.toastTitle="上报失败",o.$refs.toast.showLoading())}))}},reportRepair:function(){var t=this;""!==this.option&&""!==this.remark&&""!==this.uploadImgUrl&&""!==this.uploadImgUrl2?(this.$refs.loading.showLoading(),this.myRequest("/miniProgram/api/repairs/str").then((function(o){t.isGo=!1,0===o.data.status?(t.isGo=!0,t.msgText=o.data.data):10009===o.data.status||99999===o.data.status?t.msgText="系统出错":t.msgText=o.data.msg,t.$refs.loading.hideLoading(),t.$refs.modal.toggleModal()}))):(this.toastType="none",this.toastTitle="请输入完整信息",this.$refs.toast.showLoading())},uploadImg:function(o){var n=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:i.default.ip+"file/weixin/upload",filePath:a.tempFilePaths[0],name:"file",formData:{token:wx.getStorageSync("gtoken")},header:{"Content-Type":"multipart/form-data"},success:function(t){0===o?n.uploadImgUrl=JSON.parse(t.data).url:n.uploadImgUrl2=JSON.parse(t.data).url},fail:function(t){console.log(t)}})}})},delImg:function(t){1===t?this.uploadImgUrl="":this.uploadImgUrl2=""},prevImg:function(){t.previewImage({urls:[this.uploadImgUrl]})}},onLoad:function(t){this.showPosition=!1,this.product=JSON.parse(t.product),console.log(this.product),this.options=JSON.parse(this.product.goodsMaintainOption),this.option="",this.remark="",this.uploadImgUrl="",this.uploadImgUrl2="",this.number2="",this.number1=""}};o.default=e}).call(this,n("543d")["default"])},a490:function(t,o,n){},b542:function(t,o,n){"use strict";n.r(o);var i=n("3009");for(var a in i)"default"!==a&&function(t){n.d(o,t,(function(){return i[t]}))}(a);var e,s,r,u,l=n("f0c5"),d=Object(l["a"])(i["default"],e,s,!1,null,null,null,!1,r,u);o["default"]=d.exports},dd19:function(t,o,n){"use strict";(function(t){n("4ce3"),n("921b");i(n("66fd"));var o=i(n("9ddd"));function i(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])}},[["dd19","common/runtime","common/vendor"]]]);