(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repair/repair"],{"180b":function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=a(n("6a88"));function a(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{toastTitle:"",toastType:"",msgText:"",uploadImgUrl:"",uploadImgUrl2:"",number1:"",number2:"",showPosition:!1,product:{},options:[123,568,789],option:"",remark:"",isGo:!1}},methods:{goRule:function(){},openPosition:function(){1==this.showPosition?this.showPosition=!1:this.showPosition=!0},choosePosition:function(t){this.showPosition=!1,this.option=t},confirmReport:function(){var o=this;if(this.isGo){var n={id:this.product.id,repairsRtr:this.option,remake:this.remark,damageImg:this.uploadImgUrl,vendorCode:this.number1,purContractNumber:this.number2,insideImg:this.uploadImgUrl2};this.$refs.loading.showLoading(),this.myRequest("/miniProgram/api/repairs/add",{data:n}).then((function(n){o.$refs.loading.hideLoading(),0===n.data.status?(o.toastType="ring",o.toastTitle="上报成功",o.$refs.toast.showLoading(),setTimeout((function(){t.navigateBack()}),1500)):10037===n.data.status?(o.toastType="none",o.toastTitle="输入不完整",o.$refs.toast.showLoading()):(o.toastType="error",o.toastTitle="上报失败",o.$refs.toast.showLoading())}))}},reportRepair:function(){var t=this;""!==this.option&&""!==this.remark&&""!==this.uploadImgUrl&&""!==this.uploadImgUrl2?(this.$refs.loading.showLoading(),this.myRequest("/miniProgram/api/repairs/str").then((function(o){t.isGo=!1,0===o.data.status?(t.isGo=!0,t.msgText=o.data.data):10009===o.data.status||99999===o.data.status?t.msgText="系统出错":t.msgText=o.data.msg,t.$refs.loading.hideLoading(),t.$refs.modal.toggleModal()}))):(this.toastType="none",this.toastTitle="请输入完整信息",this.$refs.toast.showLoading())},uploadImg:function(o){var n=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:e.default.ip+"file/weixin/upload",filePath:a.tempFilePaths[0],name:"file",formData:{token:wx.getStorageSync("gtoken")},header:{"Content-Type":"multipart/form-data"},success:function(t){0===o?n.uploadImgUrl=JSON.parse(t.data).url:n.uploadImgUrl2=JSON.parse(t.data).url},fail:function(t){console.log(t)}})}})},delImg:function(t){1===t?this.uploadImgUrl="":this.uploadImgUrl2=""},prevImg:function(){t.previewImage({urls:[this.uploadImgUrl]})}},onLoad:function(t){this.showPosition=!1,this.product=JSON.parse(t.product),console.log(this.product),this.options=JSON.parse(this.product.goodsMaintainOption),this.option="",this.remark="",this.uploadImgUrl="",this.uploadImgUrl2="",this.number2="",this.number1=""}};o.default=i}).call(this,n("543d")["default"])},"1ee1":function(t,o,n){"use strict";(function(t){n("f931"),n("921b");e(n("66fd"));var o=e(n("2340"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},2340:function(t,o,n){"use strict";n.r(o);var e=n("6b9a"),a=n("6b52");for(var i in a)"default"!==i&&function(t){n.d(o,t,(function(){return a[t]}))}(i);n("e8f7");var s,r=n("f0c5"),u=Object(r["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],s);o["default"]=u.exports},"6a88":function(t,o,n){"use strict";n.r(o);var e=n("af4b");for(var a in e)"default"!==a&&function(t){n.d(o,t,(function(){return e[t]}))}(a);var i,s,r,u,l=n("f0c5"),d=Object(l["a"])(e["default"],i,s,!1,null,null,null,!1,r,u);o["default"]=d.exports},"6b52":function(t,o,n){"use strict";n.r(o);var e=n("180b"),a=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=a.a},"6b9a":function(t,o,n){"use strict";var e={wybLoading:function(){return n.e("components/wyb-loading/wyb-loading").then(n.bind(null,"661a"))},myToast:function(){return n.e("components/my-toast/my-toast").then(n.bind(null,"c700"))},myModal:function(){return n.e("components/my-modal/my-modal").then(n.bind(null,"a84f"))}},a=function(){var t=this,o=t.$createElement,e=(t._self._c,""===t.uploadImgUrl2?n("c25d"):null),a=""!==t.uploadImgUrl2?n("d24f"):null;t.$mp.data=Object.assign({},{$root:{m0:e,m1:a}})},i=[];n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return e}))},7037:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={ip:"http://erp.level8cases.com:9000/"};o.default=e},"8c8e":function(t,o,n){},af4b:function(t,o,n){"use strict";n.r(o);var e=n("7037"),a=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=a.a},e8f7:function(t,o,n){"use strict";var e=n("8c8e"),a=n.n(e);a.a}},[["1ee1","common/runtime","common/vendor"]]]);