(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/childInfo/childInfo"],{"048f":function(t,e,a){"use strict";a.r(e);var n=a("117b"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},"117b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){Promise.all([a.e("common/vendor"),a.e("components/QuShe-picker/QuShe-picker")]).then(function(){return resolve(a("eb81"))}.bind(null,a)).catch(a.oe)},o={data:function(){return{id:"",dateSet:{startYear:(new Date).getFullYear()-15,dateMode:3,dateFormatArray:["/","/"," ",":",":"]},customSet:{itemArray:[[{name:"一年级",value:1},{name:"二年级",value:2},{name:"三年级",value:3},{name:"四年级",value:4},{name:"五年级",value:5},{name:"六年级",value:6}]],defaultValue:[0,0],steps:{step_1_value:"name"}},buttonSet:{confirmColor:"#409efe"},dateText:"请选择出生日期",dateText2:"请选择开始日期",dateText3:"请选择结束日期",classText:"请选择学生的年级",sex:1,name:"",height:"",dateType:"",school:"",grade:"",toastTitle:"出错啦",toastType:"ring"}},components:{QSpicker:n},methods:{changeSex:function(){1===this.sex?this.sex=2:this.sex=1},showDate:function(t,e){this.dateType=e,this.$refs[t].show()},confirmDate:function(t){switch(console.log(this.dateType),this.dateType){case 1:this.dateText=t.data;break;case 2:this.dateText2=t.data;break;case 3:this.dateText3=t.data;break}},confirmClass:function(t){this.classText=t.data[0].name,this.grade=t.data[0].value},saveChild:function(){var e=this;if(""!==this.grade&&""!==this.name&&""!==this.grade&&""!==this.school&&"请选择出生日期"!==this.dateText&&"请选择结束日期"!==this.dateText3){this.$refs.loading.showLoading();var a={openId:t.getStorageSync("openId"),grade:this.grade,name:this.name,school:this.school,sex:this.sex,userBirthday:this.dateText,startTime:this.dateText2,endTime:this.dateText3};this.id?a.id=this.id:a=a,console.log(12312,a),this.myRequest("student/addStudent",{data:a,contentType:"application/json"}).then((function(a){console.log(a),e.$refs.loading.hideLoading(),200===a.data.code?(getApp().globalData.childFlag=1,getApp().globalData.homeChildFlag=1,e.toastType="ring",e.toastTitle="保存成功",e.$refs.toast.showLoading(),setTimeout((function(){t.switchTab({url:"../children/children"})}),1500)):(e.toastType="error",e.toastTitle="保存失败",e.$refs.toast.showLoading())}))}else this.toastType="error",this.toastTitle="请填写完整",this.$refs.toast.showLoading()},getInfo:function(){var t=this,e={id:this.id};this.myRequest("student/findStudentDetail",{data:e,method:"GET"}).then((function(e){if(200===e.data.code){var a=e.data.data;t.grade=a.grade,t.classText=t.customSet.itemArray[0][a.grade-1].name,t.name=a.name,t.dateText=a.userBirthday,t.dateText2=a.startTime,t.dateText3=a.endTime,t.sex=parseInt(a.sex),t.school=a.school}else t.toastType="error",t.toastTitle="请求错误",t.$refs.toast.showLoading()}))}},onShow:function(){},onLoad:function(t){this.id=t.id,this.id&&this.getInfo()}};e.default=o}).call(this,a("543d")["default"])},"8c15":function(t,e,a){},ab20:function(t,e,a){"use strict";(function(t){a("4ce3"),a("921b");n(a("66fd"));var e=n(a("f5bb"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},c2b1:function(t,e,a){"use strict";var n=a("8c15"),o=a.n(n);o.a},f5bb:function(t,e,a){"use strict";a.r(e);var n=a("fb82"),o=a("048f");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("c2b1");var s,d=a("f0c5"),r=Object(d["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=r.exports},fb82:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={uniIcons:function(){return Promise.all([a.e("common/vendor"),a.e("components/uni-icons/uni-icons")]).then(a.bind(null,"7edf"))},wybLoading:function(){return a.e("components/wyb-loading/wyb-loading").then(a.bind(null,"faff"))},myToast:function(){return a.e("components/my-toast/my-toast").then(a.bind(null,"c38f"))}},o=function(){var t=this,e=t.$createElement;t._self._c},i=[]}},[["ab20","common/runtime","common/vendor"]]]);